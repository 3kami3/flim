; *** Header ***
(provide 'ew-parse)
(require 'ew-data)
(require 'lr-driver)

; *** Token Definitions ***
(defconst ew:*eoi*	0)
(defconst ew:*anchor*	1)
(defconst ew:*err*	2)
(defconst ew:tag-mailbox	3)
(defconst ew:tag-mailbox*	4)
(defconst ew:tag-mailbox+	5)
(defconst ew:tag-address*	6)
(defconst ew:tag-address+	7)
(defconst ew:tag-phrase*	8)
(defconst ew:tag-phrase-msg-id*	9)
(defconst ew:lt	10)
(defconst ew:gt	11)
(defconst ew:at	12)
(defconst ew:comma	13)
(defconst ew:semicolon	14)
(defconst ew:colon	15)
(defconst ew:dot	16)
(defconst ew:atom	17)
(defconst ew:slash	18)
(defconst ew:question	19)
(defconst ew:equal	20)
(defconst ew:token	21)
(defconst ew:us-texts	22)
(defconst ew:us-wsp	23)
(defconst ew:us-fold	24)
(defconst ew:wsp	25)
(defconst ew:fold	26)
(defconst ew:qs-begin	27)
(defconst ew:qs-end	28)
(defconst ew:qs-texts	29)
(defconst ew:qs-wsp	30)
(defconst ew:qs-fold	31)
(defconst ew:qs-qfold	32)
(defconst ew:qs-qpair	33)
(defconst ew:dl-begin	34)
(defconst ew:dl-end	35)
(defconst ew:dl-texts	36)
(defconst ew:dl-wsp	37)
(defconst ew:dl-fold	38)
(defconst ew:dl-qfold	39)
(defconst ew:dl-qpair	40)
(defconst ew:cm-begin	41)
(defconst ew:cm-end	42)
(defconst ew:cm-nested-begin	43)
(defconst ew:cm-nested-end	44)
(defconst ew:cm-texts	45)
(defconst ew:cm-wsp	46)
(defconst ew:cm-fold	47)
(defconst ew:cm-qfold	48)
(defconst ew:cm-qpair	49)

(defconst ew:token-defs
  (list 
   (cons 0 "*eoi*")
   (cons 1 "*anchor*")
   (cons 2 "*err*")
   (cons 3 "tag-mailbox")
   (cons 4 "tag-mailbox*")
   (cons 5 "tag-mailbox+")
   (cons 6 "tag-address*")
   (cons 7 "tag-address+")
   (cons 8 "tag-phrase*")
   (cons 9 "tag-phrase-msg-id*")
   (cons 10 "lt")
   (cons 11 "gt")
   (cons 12 "at")
   (cons 13 "comma")
   (cons 14 "semicolon")
   (cons 15 "colon")
   (cons 16 "dot")
   (cons 17 "atom")
   (cons 18 "slash")
   (cons 19 "question")
   (cons 20 "equal")
   (cons 21 "token")
   (cons 22 "us-texts")
   (cons 23 "us-wsp")
   (cons 24 "us-fold")
   (cons 25 "wsp")
   (cons 26 "fold")
   (cons 27 "qs-begin")
   (cons 28 "qs-end")
   (cons 29 "qs-texts")
   (cons 30 "qs-wsp")
   (cons 31 "qs-fold")
   (cons 32 "qs-qfold")
   (cons 33 "qs-qpair")
   (cons 34 "dl-begin")
   (cons 35 "dl-end")
   (cons 36 "dl-texts")
   (cons 37 "dl-wsp")
   (cons 38 "dl-fold")
   (cons 39 "dl-qfold")
   (cons 40 "dl-qpair")
   (cons 41 "cm-begin")
   (cons 42 "cm-end")
   (cons 43 "cm-nested-begin")
   (cons 44 "cm-nested-end")
   (cons 45 "cm-texts")
   (cons 46 "cm-wsp")
   (cons 47 "cm-fold")
   (cons 48 "cm-qfold")
   (cons 49 "cm-qpair")
  ))

; *** Action Table ***
(defconst ew:action-table
  [
     ((default . *error*) (3 . 7) (4 . 6) (5 . 5) (6 . 4) (7 . 3) (8 . 2) (9 . 1))
     ((default . -61))
     ((default . -61))
     ((default . -61))
     ((default . -61))
     ((default . -61))
     ((default . -61))
     ((default . -61))
     ((default . *error*) (0 . 16))
     ((default . -51) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . -53) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . *error*) (10 . 34) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . -9) (10 . 34) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . *error*) (10 . 34) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . -30) (10 . 34) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . *error*) (10 . 34) (17 . 21) (25 . 20) (26 . 19) (27 . 18) (41 . 17))
     ((default . -1) (0 . accept))
     ((default . -90))
     ((default . -76))
     ((default . -63))
     ((default . -62))
     ((default . -61))
     ((default . -64))
     ((default . -61))
     ((default . -48))
     ((default . -49))
     ((default . -8) (10 . 34))
     ((default . -57))
     ((default . -37))
     ((default . -36) (17 . 21) (27 . 18))
     ((default . -52))
     ((default . -54) (13 . 60))
     ((default . -7))
     ((default . -55))
     ((default . -61))
     ((default . -43) (12 . 63))
     ((default . -37) (16 . -25) (12 . -25))
     ((default . -29))
     ((default . *error*) (10 . 34) (15 . 68))
     ((default . -13))
     ((default . *error*) (12 . 63) (16 . 71))
     ((default . -14))
     ((default . -27))
     ((default . -11))
     ((default . -6) (13 . 60))
     ((default . -10) (13 . 60))
     ((default . -5))
     ((default . *error*) (10 . 34))
     ((default . -4) (13 . 60))
     ((default . -32))
     ((default . -31) (13 . 60))
     ((default . -3))
     ((default . -2))
     ((default . *error*) (42 . 83) (43 . 82) (44 . 81) (45 . 80) (46 . 79) (47 . 78) (48 . 77) (49 . 76))
     ((default . *error*) (28 . 89) (29 . 88) (30 . 87) (31 . 86) (32 . 85) (33 . 84))
     ((default . -74) (25 . 20) (26 . 19) (41 . 17))
     ((default . -72) (25 . 20) (26 . 19) (41 . 17))
     ((default . *error*) (17 . 21) (27 . 18))
     ((default . -51) (17 . 21) (27 . 18))
     ((default . -38))
     ((default . -61))
     ((default . *error*) (17 . 21) (27 . 18))
     ((default . -65) (25 . 20) (26 . 19) (41 . 17))
     ((default . -61))
     ((default . *error*) (17 . 21) (34 . 96))
     ((default . *error*) (17 . 21) (27 . 18))
     ((default . *error*) (13 . 60) (15 . 68))
     ((default . -44))
     ((default . -61))
     ((default . -30) (10 . 34) (17 . 21) (27 . 18))
     ((default . -28))
     ((default . -61))
     ((default . *error*) (17 . 21) (27 . 18))
     ((default . *error*) (17 . 21) (34 . 96))
     ((default . *error*) (10 . 34) (17 . 21) (27 . 18))
     ((default . *error*) (10 . 34) (17 . 21) (27 . 18))
     ((default . -97))
     ((default . -96))
     ((default . -95))
     ((default . -94))
     ((default . -93))
     ((default . -92))
     ((default . -91))
     ((default . -89))
     ((default . -81))
     ((default . -80))
     ((default . -79))
     ((default . -78))
     ((default . -77))
     ((default . -75))
     ((default . -25))
     ((default . *error*) (11 . 113))
     ((default . -58))
     ((default . -68) (25 . 20) (26 . 19) (41 . 17))
     ((default . -56))
     ((default . -67) (25 . 20) (26 . 19) (41 . 17))
     ((default . -83))
     ((default . -61))
     ((default . -21))
     ((default . -46))
     ((default . -19))
     ((default . -45))
     ((default . -40) (16 . 71))
     ((default . *error*) (11 . 113))
     ((default . -39))
     ((default . *error*) (12 . 63))
     ((default . -70) (25 . 20) (26 . 19) (41 . 17))
     ((default . *error*) (14 . 120))
     ((default . -71) (25 . 20) (26 . 19) (41 . 17))
     ((default . -26))
     ((default . -15) (16 . 71))
     ((default . -12))
     ((default . -33))
     ((default . -61))
     ((default . -35))
     ((default . *error*) (35 . 128) (36 . 127) (37 . 126) (38 . 125) (39 . 124) (40 . 123))
     ((default . -73) (25 . 20) (26 . 19) (41 . 17))
     ((default . *error*) (17 . 21) (34 . 96))
     ((default . -42))
     ((default . *error*) (17 . 21) (34 . 96))
     ((default . -61))
     ((default . -22))
     ((default . -66) (25 . 20) (26 . 19) (41 . 17))
     ((default . -88))
     ((default . -87))
     ((default . -86))
     ((default . -85))
     ((default . -84))
     ((default . -82))
     ((default . -20))
     ((default . -41) (16 . 71))
     ((default . -69) (25 . 20) (26 . 19) (41 . 17))
    ])

; *** Goto Table ***
(defconst ew:goto-table
  [
     ((1 . 8))
     ((33 . 9))
     ((33 . 10))
     ((33 . 11))
     ((33 . 12))
     ((33 . 13))
     ((33 . 14))
     ((33 . 15))
     ()
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(31 . 26)(28 . 27)(26 . 28)(19 . 29)(18 . 30))
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(30 . 31)(29 . 32)(26 . 28)(19 . 29)(18 . 33))
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 38)(13 . 39)(12 . 40)(10 . 41)(5 . 42)(4 . 43)(3 . 44))
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 38)(13 . 39)(12 . 40)(10 . 41)(5 . 42)(4 . 43)(3 . 45)(2 . 46))
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 47)(15 . 48)(13 . 49)(12 . 40)(5 . 42))
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 47)(15 . 50)(14 . 51)(13 . 49)(12 . 40)(5 . 42))
     ((48 . 22)(44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 47)(13 . 52)(12 . 40)(5 . 42))
     ()
     ((49 . 53))
     ((45 . 54))
     ()
     ()
     ((33 . 55))
     ()
     ((33 . 56))
     ()
     ()
     ((34 . 57)(17 . 58))
     ()
     ()
     ((44 . 23)(43 . 24)(41 . 25)(26 . 59))
     ()
     ((37 . 61))
     ()
     ()
     ((33 . 62))
     ((36 . 64)(23 . 65)(21 . 66)(20 . 67))
     ()
     ()
     ((39 . 69)(34 . 35)(22 . 70))
     ()
     ((40 . 72)(36 . 73))
     ()
     ()
     ()
     ((37 . 74))
     ((37 . 74))
     ()
     ((34 . 35)(22 . 70))
     ((37 . 75))
     ()
     ((37 . 75))
     ()
     ()
     ()
     ()
     ((48 . 22))
     ((48 . 22))
     ((44 . 23)(43 . 24)(41 . 25)(26 . 90)(12 . 40)(5 . 91))
     ((44 . 23)(43 . 24)(41 . 25)(28 . 92)(26 . 28)(19 . 29)(18 . 30))
     ()
     ((33 . 93))
     ((44 . 23)(43 . 24)(41 . 25)(26 . 28)(19 . 29)(18 . 94))
     ((48 . 22))
     ((33 . 95))
     ((46 . 97)(43 . 98)(42 . 99)(24 . 100)(9 . 101)(8 . 102))
     ((44 . 23)(43 . 24)(41 . 25)(26 . 90)(12 . 40)(5 . 103))
     ((39 . 104)(37 . 105))
     ()
     ((33 . 106))
     ((44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 47)(15 . 50)(14 . 107)(13 . 49)(12 . 40)(5 . 42))
     ()
     ((33 . 108))
     ((44 . 23)(43 . 24)(41 . 25)(26 . 109))
     ((46 . 97)(43 . 98)(42 . 99)(24 . 100)(9 . 101)(8 . 110))
     ((44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 38)(13 . 39)(12 . 40)(10 . 41)(5 . 42)(4 . 111))
     ((44 . 23)(43 . 24)(41 . 25)(34 . 35)(26 . 36)(22 . 37)(19 . 29)(18 . 47)(13 . 112)(12 . 40)(5 . 42))
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ((35 . 114))
     ()
     ((48 . 22))
     ()
     ((48 . 22))
     ((47 . 115))
     ((33 . 116))
     ()
     ()
     ()
     ()
     ((40 . 117))
     ((35 . 118))
     ()
     ((36 . 119))
     ((48 . 22))
     ((38 . 121))
     ((48 . 22))
     ()
     ((40 . 117))
     ()
     ()
     ((33 . 122))
     ()
     ()
     ((48 . 22))
     ((46 . 97)(43 . 98)(42 . 99)(24 . 129)(9 . 101))
     ()
     ((46 . 97)(43 . 98)(42 . 99)(24 . 100)(9 . 101)(8 . 130))
     ((33 . 131))
     ()
     ((48 . 22))
     ()
     ()
     ()
     ()
     ()
     ()
     ()
     ((40 . 117))
     ((48 . 22))
    ])

; *** Reduction Table ***
(defconst ew:reduction-table
  (vector
    '()
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (accept $1)))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 1 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 2 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 2 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 3 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 3 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 4 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 4 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 5 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 6 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($4 (aref stack (- sp 1)))
             ($3 (aref stack (- sp 3)))
             ($2 (aref stack (- sp 5)))
             ($1 (aref stack (- sp 7))))
          (lr-push stack (- sp 8) 7 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 7 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 8 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 8 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 9 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($4 (aref stack (- sp 1)))
             ($3 (aref stack (- sp 3)))
             ($2 (aref stack (- sp 5)))
             ($1 (aref stack (- sp 7))))
          (lr-push stack (- sp 8) 10 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 11 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($5 (aref stack (- sp 1)))
             ($4 (aref stack (- sp 3)))
             ($3 (aref stack (- sp 5)))
             ($2 (aref stack (- sp 7)))
             ($1 (aref stack (- sp 9))))
          (lr-push stack (- sp 10) 11 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 12 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 12 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 13 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 13 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 13 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 14 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 14 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 15 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 15 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 16 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 17 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 18 goto-table (ew-mark-phrase $1 $look))))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 19 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 19 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 20 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 21 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($4 (aref stack (- sp 1)))
             ($3 (aref stack (- sp 3)))
             ($2 (aref stack (- sp 5)))
             ($1 (aref stack (- sp 7))))
          (lr-push stack (- sp 8) 21 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($4 (aref stack (- sp 1)))
             ($3 (aref stack (- sp 3)))
             ($2 (aref stack (- sp 5)))
             ($1 (aref stack (- sp 7))))
          (lr-push stack (- sp 8) 22 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 23 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 23 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 24 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 24 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 25 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 26 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 26 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 27 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 28 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 28 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 29 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 29 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 30 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 30 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 31 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 31 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($1 (aref stack (- sp 1))))
          (lr-push stack (- sp 2) 32 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 32 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 33 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 33 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 33 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 33 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 34 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 35 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 36 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 37 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 38 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 39 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 40 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 41 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 42 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 43 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 44 goto-table $1)))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 45 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 45 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 45 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 45 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 45 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 45 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 46 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 47 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 47 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 47 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 47 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 47 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 47 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($3 (aref stack (- sp 1)))
             ($2 (aref stack (- sp 3)))
             ($1 (aref stack (- sp 5))))
          (lr-push stack (- sp 6) 48 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* ()
          (lr-push stack (- sp 0) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
    (lambda (stack sp goto-table $look)
      (let* (($2 (aref stack (- sp 1)))
             ($1 (aref stack (- sp 3))))
          (lr-push stack (- sp 4) 49 goto-table ())))
  ))

; *** Parser Definition ***
(defun ew-parse(scanner errorhandler)
  (lr-parse scanner errorhandler 
    ew:action-table
    ew:goto-table
    ew:reduction-table
    ew:token-defs))

; *** Footer ***
(put 'ew:cm-texts 'decode 'ew-decode-comment)
(put 'ew:cm-wsp 'decode 'ew-decode-comment)
(put 'ew:cm-fold 'decode 'ew-decode-comment)
(put 'ew:cm-qfold 'decode 'ew-decode-comment)
(put 'ew:cm-qpair 'decode 'ew-decode-comment)
(put 'ew:us-texts 'decode 'ew-decode-unstructured)
(put 'ew:us-wsp 'decode 'ew-decode-unstructured)
(put 'ew:us-fold 'decode 'ew-decode-unstructured)

